<div class="flex flex-col md:flex-row h-screen bg-gray-50">
      <div *ngIf="loading()" class="absolute inset-0 bg-gray-200/50 flex justify-center items-center z-10">
      <div class="loader border-4 border-blue-500 border-t-transparent rounded-full w-12 h-12 animate-spin"></div>
    </div>
  <!-- Canvas à gauche -->
  <div class="flex-1 p-4 flex flex-col items-center relative">
    <!-- Loader overlay -->


    <div class="canvas-container w-full max-w-4xl bg-white rounded-lg shadow-lg p-4 flex justify-center items-center">
      <canvas #canvas
              (mousedown)="startDrawing($event)"
              (mousemove)="draw($event)"
              (mouseup)="stopDrawing($event)"
              class="w-full h-auto border border-gray-300 rounded-lg"></canvas>
    </div>

    <div class="mt-4 flex flex-wrap justify-center gap-3">
      <button (click)="loadRandomImage()"
              class="bg-blue-500 text-white px-5 py-2 rounded-lg shadow hover:bg-blue-600 transition duration-200">
        Image suivante
      </button>
      <button *ngIf="currentImage"
              (click)="markImageComplete(currentImage)"
              class="bg-green-500 text-white px-5 py-2 rounded-lg shadow hover:bg-green-600 transition duration-200">
        Marquer comme terminé
      </button>
      <button (click)="exportData()"
        class="bg-purple-500 text-white px-5 py-2 rounded-lg shadow hover:bg-purple-600 transition duration-200">
  Exporter JSON
</button>
<input type="file" (change)="importData($event)" accept=".json"
       class="mt-2 p-2 border rounded"/>

    </div>
  </div>

  <!-- Sidebar / liste des images -->
  <div class="w-full md:w-72 bg-white p-4 overflow-y-auto border-t md:border-t-0 md:border-l border-gray-200">
    <h3 class="text-xl font-semibold mb-4 text-gray-700">Liste des images</h3>
    <ul class="space-y-2">
    <li *ngFor="let image of images()"
    (click)="selectImage(image)"
    class="cursor-pointer p-3 hover:bg-gray-100 rounded-lg flex justify-between items-center transition duration-150">
  <span class="truncate">{{ image.name }}</span>
  <span [ngClass]="image.status === 'terminé' ? 'text-green-500 font-semibold' : 'text-red-500 font-semibold'">
    {{ image.status }}
  </span>
</li>
    </ul>
  </div>
</div>

